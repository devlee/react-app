import * as request from 'request';

import * as https from 'https';

import * as cheerio from 'cheerio';

const targetUrl = 'https://etherscan.io/address/0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8#tokentxns';

const balanceListElementId = 'balancelist';

const getHtml = () => {
  /* tslint:disable max-line-length */
  return `
  <ul id="balancelist" role="menu" class="dropdown-menu">
  <li><a href="/token/0x37e8789bb9996cac9156cd5f5fd32599e6b91289?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>AidCoin<span class="pull-right"></span></b><br>8,387,192.78207 AID</a></li><li><a href="/token/0x4dc3643dbc642b72c158e7f3d2ff232df61cb6ce?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Amber<span class="pull-right">$1.03</span></b><br>1 AMB<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 1.03</span></a></li><li><a href="/token/0x0d88ed6e74bbfd96b831231638b66c05571e824f?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>AVT<span class="pull-right">$9,818,767.39</span></b><br>2,560,044.06106 AVT<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 3.84</span></a></li><li><a href="/token/0x0d8775f648430679a709e98d2b0cb6250d2887ef?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>BAT<span class="pull-right">$8,148,062.24</span></b><br>13,309,499.42832 BAT<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.61</span></a></li><li><a href="/token/0x96A65609a7B84E8842732DEB08f56C3E21aC6f8a?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Centra<span class="pull-right">$1,657.46</span></b><br>1,000 CTR<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 1.66</span></a></li><li><a href="/token/0x4d829f8c92a6691c56300d020c9e0db984cfe2ba?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>CoinCrowd<span class="pull-right"></span></b><br>1 XCC</a></li><li><a href="/token/0x4e0603e2a27a30480e5e3a4fe548e29ef12f64be?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Credo Token<span class="pull-right">$0.06</span></b><br>1 CREDO<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.06</span></a></li><li><a href="/token/0x0cf0ee63788a0849fe5297f3407f701e122cc023?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>DATAcoin<span class="pull-right">$33,913,205.59</span></b><br>214,446,454.11415 DATA<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.16</span></a></li><li><a href="/token/0x0f5d2fb29fb7d3cfee444a200298f468908cc942?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Decentraland<span class="pull-right">$7,326,634.21</span></b><br>56,706,378.42388 MANA<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.13</span></a></li><li><a href="/token/0xced4e93198734ddaff8492d525bd258d49eb388e?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Eidoo<span class="pull-right">$21,611,534.47</span></b><br>6,436,946.96094 EDO<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 3.36</span></a></li><li><a href="/token/0xbf2179859fc6d5bee9bf9158632dc51678a4100e?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>ELF<span class="pull-right">$6,605,049.18</span></b><br>3,214,386.1243 ELF<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 2.05</span></a></li><li><a href="/token/0x86fa049857e0209aa7d9e616f7eb3b3b78ecfdb0?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>EOS<span class="pull-right">$599,501,662.70</span></b><br>42,700,765.1716662 EOS<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 14.04</span></a></li><li><a href="/token/0x419d0d8bdd9af5e606ae2232ed285aff190e711b?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>FunFair<span class="pull-right">$9,281,929.59</span></b><br>98,095,043.54532 FUN<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.09</span></a></li><li><a href="/token/0xa74476443119A942dE498590Fe1f2454d7D4aC0d?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Golem<span class="pull-right">$11,600,160.00</span></b><br>20,504,365.07709 GNT<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.57</span></a></li><li><a href="/token/0xf7b098298f7c69fc14610bf71d5e02c60792894c?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Guppy<span class="pull-right">$0.69</span></b><br>1.234 Guppy<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.56</span></a></li><li><a href="/token/0xf8e386eda857484f5a12e4b5daa9984e06e73705?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Indorse<span class="pull-right">$0.17</span></b><br>1 IND<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.17</span></a></li><li><a href="/token/0xdb455c71c1bc2de4e80ca451184041ef32054001?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Jury.Online<span class="pull-right"></span></b><br>1.5 JOT</a></li><li><a href="/token/0xd26114cd6EE289AccF82350c8d8487fedB8A0C07?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>OmiseGo<span class="pull-right">$94,365,360.71</span></b><br>5,751,320.16308134 OMG<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 16.41</span></a></li><li><a href="/token/0x618e75ac90b12c6049ba3b27f5d5f8651b0037f6?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>QASH<span class="pull-right">$95,667,206.94</span></b><br>65,269,769.76354 QASH<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 1.47</span></a></li><li><a href="/token/0xe94327d07fc17907b4db788e5adf2ed424addff6?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>REP<span class="pull-right">$1,134,782.23</span></b><br>13,721.88716 REP<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 82.70</span></a></li><li><a href="/token/0xf970b8e36e23f7fc3fd752eea86f8be8d83375a6?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>RipioCreditNetwork<span class="pull-right">$1,148,152.69</span></b><br>3,550,453.30118 RCN<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.32</span></a></li><li><a href="/token/0x607F4C5BB672230e8672085532f7e901544a7375?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>RLC<span class="pull-right">$557,102.56</span></b><br>212,332.27339 RLC<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 2.62</span></a></li><li><a href="/token/0x7c5a0ce9267ed19b22f8cae653f198e3e8daf098?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>SAN<span class="pull-right">$129,825,938.04</span></b><br>47,517,866.1636664 SAN<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 2.73</span></a></li><li><a href="/token/0x98f5e9b7f0e33956c0443e81bf7deb8b5b1ed545?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Sexy Token<span class="pull-right"></span></b><br>1,000 SEXY</a></li><li><a href="/token/0xaec2e87e0a235266d9c5adc9deb4b2e29b54d009?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>SNGLS<span class="pull-right">$441,468.37</span></b><br>1,692,987 SNGLS<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.26</span></a></li><li><a href="/token/0x42d6622dece394b54999fbd73d108123806f6a18?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>SPANK<span class="pull-right">$7,662,373.39</span></b><br>20,778,416.08914 SPANK<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.37</span></a></li><li><a href="/token/0x744d70fdbe2ba4cf95131626614a1763df805b9e?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>StatusNetwork<span class="pull-right">$21,421,236.37</span></b><br>72,502,780.02484 SNT<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.30</span></a></li><li><a href="/token/0xdac17f958d2ee523a2206206994597c13d831ec7?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Tether USD<span class="pull-right"></span></b><br>867 USDT</a></li><li><a href="/token/0xf230b790e05390fc8295f4d3f60332c93bed42e2?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Tronix<span class="pull-right">$7,456,796.74</span></b><br>116,134,648.50221 TRX<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.06</span></a></li><li><a href="/token/0xf3e014fe81267870624132ef3a646b8e83853a96?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>VIN<span class="pull-right"></span></b><br>7.77 VIN</a></li><li><a href="/token/0x72adadb447784dd7ab1f472467750fc485e4cb2d?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>Worldcore<span class="pull-right">$0.29</span></b><br>1 WRC<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.29</span></a></li><li><a href="/token/0xab95e915c123fded5bdfb6325e35ef5515f1ea69?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>XENON<span class="pull-right">$338.99</span></b><br>3,933.27041402 XNN<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.09</span></a></li><li><a href="/token/0xcbeaec699431857fdb4d37addbbdc20e132d4903?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>YOYOW<span class="pull-right">$18,691,725.50</span></b><br>77,999,513.83182 YOYOW<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 0.24</span></a></li><li><a href="/token/0xe41d2489571d322189246dafa5ebde1f4699f498?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b>ZRX<span class="pull-right">$23,415,789.26</span></b><br>12,390,945.50166 ZRX<span class="pull-right" style="font-size:11px; color:#B3B6B7;">@ 1.89</span></a></li><li><a href="/token/0xcf006429f1702bd3c83e673c991ec8d545735e48?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xcf006429f1702bd3c83e673c991ec8d545735e48</span><span class="pull-right"></span></b><br>7 0BTC</a></li><li><a href="/token/0xb942cc393b2a934327af72843cebe70dba7e0d4f?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xb942cc393b2a934327af72843cebe70dba7e0d4f</span><span class="pull-right"></span></b><br>0.27 MORO</a></li><li><a href="/token/0xf57d46afcde19c897cdd8f2da7b3d80a5541b786?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xf57d46afcde19c897cdd8f2da7b3d80a5541b786</span><span class="pull-right"></span></b><br>1 аNTOK</a></li><li><a href="/token/0x15e4cf1950ffa338ce5bc59456b3e579ed1bead3?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x15e4cf1950ffa338ce5bc59456b3e579ed1bead3</span><span class="pull-right"></span></b><br>2,018 аNTOK</a></li><li><a href="/token/0x5bc792754fc71e2f7892e72922690f57c9724132?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x5bc792754fc71e2f7892e72922690f57c9724132</span><span class="pull-right"></span></b><br>0.0000001 Bit</a></li><li><a href="/token/0x68e14bb5a45b9681327e16e528084b9d962c1a39?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x68e14bb5a45b9681327e16e528084b9d962c1a39</span><span class="pull-right"></span></b><br>5 CAT</a></li><li><a href="/token/0xac1ec3143b89d5b263d9194db216ea068e0f3dc9?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xac1ec3143b89d5b263d9194db216ea068e0f3dc9</span><span class="pull-right"></span></b><br>1 BSC</a></li><li><a href="/token/0x8446563E75Cd7821B5bF2199c26976EFC5CAC803?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x8446563E75Cd7821B5bF2199c26976EFC5CAC803</span><span class="pull-right"></span></b><br>0 COV</a></li><li><a href="/token/0x983877018633c0940B183Cd38d1b58bEE34F7301?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x983877018633c0940B183Cd38d1b58bEE34F7301</span><span class="pull-right"></span></b><br>32 DEEP</a></li><li><a href="/token/0x6025f65f6b2f93d8ed1efedc752acfd4bdbcec3e?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x6025f65f6b2f93d8ed1efedc752acfd4bdbcec3e</span><span class="pull-right"></span></b><br>1,000 EGOLD</a></li><li><a href="/token/0xd037a81b22e7f814bc6f87d50e5bd67d8c329fa2?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xd037a81b22e7f814bc6f87d50e5bd67d8c329fa2</span><span class="pull-right"></span></b><br>1,494,222.42663322 EMO</a></li><li><a href="/token/0xbd36ad3e10d3c057a2a7379124823f9e73d36a33?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xbd36ad3e10d3c057a2a7379124823f9e73d36a33</span><span class="pull-right"></span></b><br>69 EDOGE</a></li><li><a href="/token/0x86949dc8043a5fd7619a1289d65964ad5ec3d25c?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x86949dc8043a5fd7619a1289d65964ad5ec3d25c</span><span class="pull-right"></span></b><br>100 GCS</a></li><li><a href="/token/0xe2d82dc7da0e6f882e96846451f4fabcc8f90528?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xe2d82dc7da0e6f882e96846451f4fabcc8f90528</span><span class="pull-right"></span></b><br>10,814,635.5027724 JC</a></li><li><a href="/token/0x7816773556a09d06670a734caf5fa22562427b0c?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x7816773556a09d06670a734caf5fa22562427b0c</span><span class="pull-right"></span></b><br>2,000 KCN</a></li><li><a href="/token/0x5783862cef49094be4de1fe31280b2e33cf87416?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x5783862cef49094be4de1fe31280b2e33cf87416</span><span class="pull-right"></span></b><br>300 KRT</a></li><li><a href="/token/0x29f190598dddeea7c05fabf82cc56792e9c064e0?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x29f190598dddeea7c05fabf82cc56792e9c064e0</span><span class="pull-right"></span></b><br>771.2 NCC</a></li><li><a href="/token/0xb9b4cfe4194d7e8511aa9b9f1260bc7b9634249e?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xb9b4cfe4194d7e8511aa9b9f1260bc7b9634249e</span><span class="pull-right"></span></b><br>0.01 RST-P</a></li><li><a href="/token/0xea314ac8c729cff7eb1366ad8efbcf5c02dbca33?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xea314ac8c729cff7eb1366ad8efbcf5c02dbca33</span><span class="pull-right"></span></b><br>10 SBL</a></li><li><a href="/token/0x7d3e7d41da367b4fdce7cbe06502b13294deb758?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x7d3e7d41da367b4fdce7cbe06502b13294deb758</span><span class="pull-right"></span></b><br>10 SSS</a></li><li><a href="/token/0xabdf147870235fcfc34153828c769a70b3fae01f?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xabdf147870235fcfc34153828c769a70b3fae01f</span><span class="pull-right"></span></b><br>10,490,155 EURT</a></li><li><a href="/token/0xd697A61D5FB4e076125e0bE647f902b02bb3A0F1?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xd697A61D5FB4e076125e0bE647f902b02bb3A0F1</span><span class="pull-right"></span></b><br>99 TT$</a></li><li><a href="/token/0xf7920b0768ecb20a123fac32311d07d193381d6f?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xf7920b0768ecb20a123fac32311d07d193381d6f</span><span class="pull-right"></span></b><br>117,834,785.55646 TNB</a></li><li><a href="/token/0xcb2ab9fdb42de8955987304009494ee4c2a08852?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xcb2ab9fdb42de8955987304009494ee4c2a08852</span><span class="pull-right"></span></b><br>150.46657905 VNT</a></li><li><a href="/token/0xe769d988ceda1559aee07963e59e62bd730dbba6?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0xe769d988ceda1559aee07963e59e62bd730dbba6</span><span class="pull-right"></span></b><br>0.001 WISE</a></li><li><a href="/token/0x728781E75735dc0962Df3a51d7Ef47E798A7107E?a=0xf4b51b14b9ee30dc37ec970b50a486f37686e2a8" style="white-space:normal" title="Click for More Info.."><b><span class="address-tag">0x728781E75735dc0962Df3a51d7Ef47E798A7107E</span><span class="pull-right"></span></b><br>6 WOLK</a></li><li style="background: #E5E7E9 !important; line-height: 35px; margin-bottom:-1px;">&nbsp;&nbsp;<b>Total Value: <span class="pull-right">$1,109,596,936.86&nbsp;&nbsp;</span></b></li>
  </ul>
  `;
};

const f = async () => {
  // return r(getHtml());
  return await p(targetUrl);
};

const r = (html) => {
  const $ = cheerio.load(html);
  const balanceListElement = $('#' + balanceListElementId);
  const list = balanceListElement.children();
  const result = [];
  list.map((idx, item) => {
    const span = $(item).find('.pull-right')[0];
    const name = span.prev.data;
    const pn = $(span).parent().next()[0];
    if (name && pn) {
      const countText = pn.next.data;
      const count = countText.replace(' ', '').replace(/,/g, '').replace(/[a-zA-Z]/g, '');
      const priceText = $(span).html();
      const price = priceText.replace('$', '').replace(/,/g, '');
      const dataItem = {
        count,
        name,
        price,
      };
      result.push(dataItem);
    }
  });
  return result;
};

const pp = (url: string) => {
  return new Promise((resolve, reject) => {
    https
      .get(url, (res) => {
        let html = '';
        res.setEncoding('utf-8');
        res.on('data', (chunk) => {
          html += chunk;
        });
        res.on('end', () => {
          resolve(html);
        });
      })
      .on('error', (err) => {
        reject(err);
      });
  });
};

const p = async (url: string) => {
  const html = await pp(url);
  return r(html);
};

export default f;
